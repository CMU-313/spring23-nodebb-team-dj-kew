"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[831,3014],{7927:(_,g,l)=>{var a,f;a=[l(32230),l(7237),l(85233)],f=function(p,r,d){const s={};s.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:new Date().getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const e=$("#"+t.alert_id);e.length?i(e,t):n(t)},s.success=function(t,e){s.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:e||5e3})},s.error=function(t,e){if(t=t&&t.message||t,t==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}s.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:e||1e4})},s.remove=function(t){$("#alert_button_"+t).remove()};function n(t){app.parseAndTranslate("alert",t,function(e){let o=$("#"+t.alert_id);if(o.length)return i(o,t);o=e,o.fadeIn(200),r.get("toaster/tray").prepend(o),typeof t.closefn=="function"&&o.find("button").on("click",function(){return t.closefn(),c(o),!1}),t.timeout&&u(o,t),typeof t.clickfn=="function"&&o.addClass("pointer").on("click",function(h){$(h.target).is(".close")||t.clickfn(o,t),c(o)}),d.fire("action:alert.new",{alert:o,params:t})})}function i(t,e){t.find("strong").translateHtml(e.title),t.find("p").translateHtml(e.message),t.attr("class","alert alert-dismissable alert-"+e.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&u(t,e),d.fire("action:alert.update",{alert:t,params:e}),t.off("click").removeClass("pointer"),typeof e.clickfn=="function"&&t.addClass("pointer").on("click",function(o){$(o.target).is(".close")||e.clickfn(),c(t)})}function c(t){t.fadeOut(500,function(){$(this).remove()})}function u(t,e){const o=e.timeout,h=setTimeout(function(){c(t),typeof e.timeoutfn=="function"&&e.timeoutfn(t,e)},o);t.attr("timeoutId",h),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),t.addClass("animate"),d.fire("action:alert.animate",{alert:t,params:e})},50),t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return s}.apply(g,a),f!==void 0&&(_.exports=f)},74344:(_,g,l)=>{var a,f;a=[l(85233)],f=(p=>{const r={},d=config.relative_path+"/api/v3";function s(n,i){n.url=n.url.startsWith("/api")?config.relative_path+n.url:d+n.url;async function c(u){({options:n}=await p.fire("filter:api.options",{options:n})),$.ajax(n).done(t=>{u(null,t&&t.hasOwnProperty("status")&&t.hasOwnProperty("response")?t.response:t||{})}).fail(t=>{let e;t.responseJSON&&(e=t.responseJSON.status&&t.responseJSON.status.message?t.responseJSON.status.message:t.responseJSON.error),u(new Error(e||t.statusText))})}if(typeof i=="function"){c(i);return}return new Promise((u,t)=>{c(function(e,o){e?t(e):u(o)})})}return r.get=(n,i,c)=>s({url:n+(i&&Object.keys(i).length?"?"+$.param(i):"")},c),r.head=(n,i,c)=>s({url:n+(i&&Object.keys(i).length?"?"+$.param(i):""),method:"head"},c),r.post=(n,i,c)=>s({url:n,method:"post",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},c),r.patch=(n,i,c)=>s({url:n,method:"patch",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},c),r.put=(n,i,c)=>s({url:n,method:"put",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},c),r.del=(n,i,c)=>s({url:n,method:"delete",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},c),r.delete=r.del,r}).apply(g,a),f!==void 0&&(_.exports=f)}}]);
