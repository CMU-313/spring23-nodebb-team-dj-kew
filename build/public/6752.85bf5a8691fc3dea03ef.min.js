"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[6752,145,7214,6503,6028,8786,5655,8306],{7927:(f,d,l)=>{var u,i;u=[l(32230),l(7237),l(85233)],i=function(t,s,n){const r={};r.alert=function(e){e.alert_id="alert_button_"+(e.alert_id?e.alert_id:new Date().getTime()),e.title=e.title&&e.title.trim()||"",e.message=e.message?e.message.trim():"",e.type=e.type||"info";const c=$("#"+e.alert_id);c.length?m(c,e):_(e)},r.success=function(e,c){r.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:e,type:"success",timeout:c||5e3})},r.error=function(e,c){if(e=e&&e.message||e,e==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}r.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:e,type:"danger",timeout:c||1e4})},r.remove=function(e){$("#alert_button_"+e).remove()};function _(e){app.parseAndTranslate("alert",e,function(c){let o=$("#"+e.alert_id);if(o.length)return m(o,e);o=c,o.fadeIn(200),s.get("toaster/tray").prepend(o),typeof e.closefn=="function"&&o.find("button").on("click",function(){return e.closefn(),p(o),!1}),e.timeout&&g(o,e),typeof e.clickfn=="function"&&o.addClass("pointer").on("click",function(a){$(a.target).is(".close")||e.clickfn(o,e),p(o)}),n.fire("action:alert.new",{alert:o,params:e})})}function m(e,c){e.find("strong").translateHtml(c.title),e.find("p").translateHtml(c.message),e.attr("class","alert alert-dismissable alert-"+c.type+" clearfix"),clearTimeout(parseInt(e.attr("timeoutId"),10)),c.timeout&&g(e,c),n.fire("action:alert.update",{alert:e,params:c}),e.off("click").removeClass("pointer"),typeof c.clickfn=="function"&&e.addClass("pointer").on("click",function(o){$(o.target).is(".close")||c.clickfn(),p(e)})}function p(e){e.fadeOut(500,function(){$(this).remove()})}function g(e,c){const o=c.timeout,a=setTimeout(function(){p(e),typeof c.timeoutfn=="function"&&c.timeoutfn(e,c)},o);e.attr("timeoutId",a),e.css("transition-property","none"),e.removeClass("animate"),setTimeout(function(){e.css("transition-property",""),e.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),e.addClass("animate"),n.fire("action:alert.animate",{alert:e,params:c})},50),e.on("mouseenter",function(){$(this).css("transition-duration",0)})}return r}.apply(d,u),i!==void 0&&(f.exports=i)},7237:(f,d,l)=>{var u;u=function(){const i={};return i.core={"topic/teaser":function(t){return t?$('[component="category/topic"][data-tid="'+t+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(t,s){return $('[component="topic"][data-'+t+'="'+s+'"]')},post:function(t,s){return $('[component="post"][data-'+t+'="'+s+'"]')},"post/content":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/content"]')},"post/header":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/header"]')},"post/anchor":function(t){return $('[component="post"][data-index="'+t+'"] [component="post/anchor"]')},"post/vote-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/vote-count"]')},"post/bookmark-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/bookmark-count"]')},"user/postcount":function(t){return $('[component="user/postcount"][data-uid="'+t+'"]')},"user/reputation":function(t){return $('[component="user/reputation"][data-uid="'+t+'"]')},"category/topic":function(t,s){return $('[component="category/topic"][data-'+t+'="'+s+'"]')},"categories/category":function(t,s){return $('[component="categories/category"][data-'+t+'="'+s+'"]')},"chat/message":function(t){return $('[component="chat/message"][data-mid="'+t+'"]')},"chat/message/body":function(t){return $('[component="chat/message"][data-mid="'+t+'"] [component="chat/message/body"]')},"chat/recent/room":function(t){return $('[component="chat/recent/room"][data-roomid="'+t+'"]')}},i.get=function(){const t=Array.prototype.slice.call(arguments,1);return i.core[arguments[0]]&&t.length?i.core[arguments[0]].apply(this,t):$('[component="'+arguments[0]+'"]')},i}.call(d,l,d,f),u!==void 0&&(f.exports=u)},39002:(f,d,l)=>{var u,i;u=[l(85233)],i=function(t){return function(n){n=n===void 0?!0:n,t.fire("action:app.logout"),$.ajax(config.relative_path+"/logout",{type:"POST",headers:{"x-csrf-token":config.csrf_token},beforeSend:function(){app.flags._logout=!0},success:function(r){t.fire("action:app.loggedOut",r),n&&(r.next?window.location.href=r.next:window.location.reload())}})}}.apply(d,u),i!==void 0&&(f.exports=i)},44882:(f,d,l)=>{var u,i;u=[l(31369),l(32230),l(66603),l(7927),l(85233)],i=function(t,s,n,r,_){const m={};let p,g;m.show=function(){_.one("action:ajaxify.end",()=>{c(),e(),m.showEmailConfirmWarning()})},m.showEmailConfirmWarning=function(o){if(!config.emailPrompt||!app.user.uid||parseInt(n.getItem("email-confirm-dismiss"),10)===1)return;const a={alert_id:"email_confirm",type:"warning",timeout:0,closefn:()=>{n.setItem("email-confirm-dismiss",1)}};app.user.email?!app.user["email:confirmed"]&&!app.user.isEmailConfirmSent?(a.message=o||"[[error:email-not-confirmed]]",a.clickfn=function(){r.remove("email_confirm"),ajaxify.go("/me/edit/email")},r.alert(a)):!app.user["email:confirmed"]&&app.user.isEmailConfirmSent&&(a.message="[[error:email-not-confirmed-email-sent]]",r.alert(a)):(a.message="[[error:no-email-to-confirm]]",a.clickfn=function(){r.remove("email_confirm"),ajaxify.go("user/"+app.user.userslug+"/edit/email")},r.alert(a))};function e(){!config.cookies.enabled||!navigator.cookieEnabled||app.inAdmin||n.getItem("cookieconsent")==="1"||(config.cookies.message=s.unescape(config.cookies.message),config.cookies.dismiss=s.unescape(config.cookies.dismiss),config.cookies.link=s.unescape(config.cookies.link),config.cookies.link_url=s.unescape(config.cookies.link_url),app.parseAndTranslate("partials/cookie-consent",config.cookies,function(o){$(document.body).append(o),$(document.body).addClass("cookie-consent-open");const a=$(".cookie-consent");a.find("button").on("click",function(){n.setItem("cookieconsent","1"),a.remove(),$(document.body).removeClass("cookie-consent-open")})}))}function c(){const o=utils.params({full:!0});p=o.has("loggedin"),g=o.get("register"),p&&(r.alert({type:"success",title:"[[global:welcome_back]] "+app.user.username+"!",message:"[[global:you_have_successfully_logged_in]]",timeout:5e3}),o.delete("loggedin")),g&&(t.alert({message:utils.escapeHTML(decodeURIComponent(g))}),o.delete("register")),o.has("lang")&&o.get("lang")===config.defaultLang&&(console.info(`The "lang" parameter was passed in to set the language to "${o.get("lang")}", but that is already the forum default language.`),o.delete("lang"));const a=o.toString();ajaxify.updateHistory(ajaxify.currentPage+(a?`?${a}`:"")+document.location.hash,!0)}return m.showInvalidSession=function(){t.alert({title:"[[error:invalid-session]]",message:"[[error:invalid-session-text]]",closeButton:!1,callback:function(){window.location.reload()}})},m.showSessionMismatch=function(){t.alert({title:"[[error:session-mismatch]]",message:"[[error:session-mismatch-text]]",closeButton:!1,callback:function(){window.location.reload()}})},m}.apply(d,u),i!==void 0&&(f.exports=i)},66603:(f,d,l)=>{var u;u=function(){function i(){this._store={},this._keys=[]}i.prototype.isMock=!0,i.prototype.setItem=function(n,r){n=String(n),this._keys.indexOf(n)===-1&&this._keys.push(n),this._store[n]=r},i.prototype.getItem=function(n){return n=String(n),this._keys.indexOf(n)===-1?null:this._store[n]},i.prototype.removeItem=function(n){n=String(n),this._keys=this._keys.filter(function(r){return r!==n}),this._store[n]=null},i.prototype.clear=function(){this._keys=[],this._store={}},i.prototype.key=function(n){return n=parseInt(n,10)||0,this._keys[n]},Object.defineProperty&&Object.defineProperty(i.prototype,"length",{get:function(){return this._keys.length}});let t;const s=Date.now().toString();try{if(t=window.localStorage,t.setItem(s,s),t.getItem(s)!==s)throw Error("localStorage behaved unexpectedly");return t.removeItem(s),t}catch(n){console.warn(n),console.warn("localStorage failed, falling back on sessionStorage");try{if(t=window.sessionStorage,t.setItem(s,s),t.getItem(s)!==s)throw Error("sessionStorage behaved unexpectedly");return t.removeItem(s),t}catch(r){return console.warn(r),console.warn("sessionStorage failed, falling back on memory storage"),new i}}}.call(d,l,d,f),u!==void 0&&(f.exports=u)}}]);
