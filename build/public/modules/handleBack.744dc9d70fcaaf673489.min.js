"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[3892,6503,8786,8306],{7237:(f,l,u)=>{var i;i=function(){const n={};return n.core={"topic/teaser":function(t){return t?$('[component="category/topic"][data-tid="'+t+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(t,o){return $('[component="topic"][data-'+t+'="'+o+'"]')},post:function(t,o){return $('[component="post"][data-'+t+'="'+o+'"]')},"post/content":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/content"]')},"post/header":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/header"]')},"post/anchor":function(t){return $('[component="post"][data-index="'+t+'"] [component="post/anchor"]')},"post/vote-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/vote-count"]')},"post/bookmark-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/bookmark-count"]')},"user/postcount":function(t){return $('[component="user/postcount"][data-uid="'+t+'"]')},"user/reputation":function(t){return $('[component="user/reputation"][data-uid="'+t+'"]')},"category/topic":function(t,o){return $('[component="category/topic"][data-'+t+'="'+o+'"]')},"categories/category":function(t,o){return $('[component="categories/category"][data-'+t+'="'+o+'"]')},"chat/message":function(t){return $('[component="chat/message"][data-mid="'+t+'"]')},"chat/message/body":function(t){return $('[component="chat/message"][data-mid="'+t+'"] [component="chat/message/body"]')},"chat/recent/room":function(t){return $('[component="chat/recent/room"][data-roomid="'+t+'"]')}},n.get=function(){const t=Array.prototype.slice.call(arguments,1);return n.core[arguments[0]]&&t.length?n.core[arguments[0]].apply(this,t):$('[component="'+arguments[0]+'"]')},n}.call(l,u,l,f),i!==void 0&&(f.exports=i)},66044:(f,l,u)=>{var i,n;i=[u(7237),u(66603),u(42840),u(78989)],n=function(t,o,e,m){const s={};let g;s.init=function(p){g=p,y(),$(window).off("action:popstate",d).on("action:popstate",d)},s.onBackClicked=d;function y(){$('[component="category"]').on("click",'[component="topic/header"]',function(){const p=$(this).parents("[data-index]").attr("data-index"),a=$(window).scrollTop();$('[component="category/topic"]').each(function(c,r){if($(r).offset().top-a>0)return o.setItem("category:bookmark",$(r).attr("data-index")),o.setItem("category:bookmark:clicked",p),o.setItem("category:bookmark:offset",$(r).offset().top-a),!1})})}function d(p){const a=p&&ajaxify.data.template.unread;if(ajaxify.data.template.category||ajaxify.data.template.recent||ajaxify.data.template.popular||a){let c=o.getItem("category:bookmark"),r=o.getItem("category:bookmark:clicked");if(o.removeItem("category:bookmark"),o.removeItem("category:bookmark:clicked"),!utils.isNumber(c))return;if(c=Math.max(0,parseInt(c,10)||0),r=Math.max(0,parseInt(r,10)||0),config.usePagination){const h=Math.ceil((parseInt(c,10)+1)/config.topicsPerPage);parseInt(h,10)!==ajaxify.data.pagination.currentPage?m.loadPage(h,function(){s.scrollToTopic(c,r)}):s.scrollToTopic(c,r)}else{if(c===0){s.scrollToTopic(c,r);return}$('[component="category"]').empty(),g(Math.max(0,c-1)+1,function(){s.scrollToTopic(c,r)})}}}return s.highlightTopic=function(p){const a=t.get("category/topic","index",p);a.length&&!a.hasClass("highlight")&&(a.addClass("highlight"),setTimeout(function(){a.removeClass("highlight")},5e3))},s.scrollToTopic=function(p,a){if(!utils.isNumber(p))return;const c=t.get("category/topic","index",p);if(c.length){const r=o.getItem("category:bookmark:offset");o.removeItem("category:bookmark:offset"),$(window).scrollTop(c.offset().top-r),s.highlightTopic(a),e.update()}},s}.apply(l,i),n!==void 0&&(f.exports=n)},66603:(f,l,u)=>{var i;i=function(){function n(){this._store={},this._keys=[]}n.prototype.isMock=!0,n.prototype.setItem=function(e,m){e=String(e),this._keys.indexOf(e)===-1&&this._keys.push(e),this._store[e]=m},n.prototype.getItem=function(e){return e=String(e),this._keys.indexOf(e)===-1?null:this._store[e]},n.prototype.removeItem=function(e){e=String(e),this._keys=this._keys.filter(function(m){return m!==e}),this._store[e]=null},n.prototype.clear=function(){this._keys=[],this._store={}},n.prototype.key=function(e){return e=parseInt(e,10)||0,this._keys[e]},Object.defineProperty&&Object.defineProperty(n.prototype,"length",{get:function(){return this._keys.length}});let t;const o=Date.now().toString();try{if(t=window.localStorage,t.setItem(o,o),t.getItem(o)!==o)throw Error("localStorage behaved unexpectedly");return t.removeItem(o),t}catch(e){console.warn(e),console.warn("localStorage failed, falling back on sessionStorage");try{if(t=window.sessionStorage,t.setItem(o,o),t.getItem(o)!==o)throw Error("sessionStorage behaved unexpectedly");return t.removeItem(o),t}catch(m){return console.warn(m),console.warn("sessionStorage failed, falling back on memory storage"),new n}}}.call(l,u,l,f),i!==void 0&&(f.exports=i)}}]);
