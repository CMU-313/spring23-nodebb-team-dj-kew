"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[9286,7214,6503,6623,8786,5655],{7927:(p,y,m)=>{var g,s;g=[m(32230),m(7237),m(85233)],s=function(e,u,f){const c={};c.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:new Date().getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const n=$("#"+t.alert_id);n.length?l(n,t):i(t)},c.success=function(t,n){c.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:n||5e3})},c.error=function(t,n){if(t=t&&t.message||t,t==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}c.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:n||1e4})},c.remove=function(t){$("#alert_button_"+t).remove()};function i(t){app.parseAndTranslate("alert",t,function(n){let o=$("#"+t.alert_id);if(o.length)return l(o,t);o=n,o.fadeIn(200),u.get("toaster/tray").prepend(o),typeof t.closefn=="function"&&o.find("button").on("click",function(){return t.closefn(),r(o),!1}),t.timeout&&a(o,t),typeof t.clickfn=="function"&&o.addClass("pointer").on("click",function(d){$(d.target).is(".close")||t.clickfn(o,t),r(o)}),f.fire("action:alert.new",{alert:o,params:t})})}function l(t,n){t.find("strong").translateHtml(n.title),t.find("p").translateHtml(n.message),t.attr("class","alert alert-dismissable alert-"+n.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),n.timeout&&a(t,n),f.fire("action:alert.update",{alert:t,params:n}),t.off("click").removeClass("pointer"),typeof n.clickfn=="function"&&t.addClass("pointer").on("click",function(o){$(o.target).is(".close")||n.clickfn(),r(t)})}function r(t){t.fadeOut(500,function(){$(this).remove()})}function a(t,n){const o=n.timeout,d=setTimeout(function(){r(t),typeof n.timeoutfn=="function"&&n.timeoutfn(t,n)},o);t.attr("timeoutId",d),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),t.addClass("animate"),f.fire("action:alert.animate",{alert:t,params:n})},50),t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return c}.apply(y,g),s!==void 0&&(p.exports=s)},22905:(p,y,m)=>{var g,s;g=[m(7927)],s=function(e){const u={};return u.init=function(f,c){let i=null;c=c||{},c.privilege=c.privilege||"topics:read",c.states=c.states||["watching","notwatching","ignoring"];let l=[];Array.isArray(c.localCategories)&&(l=c.localCategories.map(o=>({...o}))),c.selectedCids=c.selectedCids||ajaxify.data.selectedCids||[];const r=f.find('[component="category-selector-search"]');if(!r.length)return;const a=r.parent('[component="category/dropdown"]').length>0||r.parent('[component="category-selector"]').length>0;f.on("show.bs.dropdown",function(){a&&(f.find(".dropdown-toggle").addClass("hidden"),r.removeClass("hidden"));function o(){const d=r.find("input").val();d.length>1||!d&&!i?t(d,function(h){i=i||h,n(h)}):!d&&i&&(i.forEach(function(h){h.selected=c.selectedCids.includes(h.cid)}),n(i))}r.on("click",function(d){d.preventDefault(),d.stopPropagation()}),r.find("input").val("").on("keyup",utils.debounce(o,300)),o()}),f.on("shown.bs.dropdown",function(){r.find("input").focus()}),f.on("hide.bs.dropdown",function(){a&&(f.find(".dropdown-toggle").removeClass("hidden"),r.addClass("hidden")),r.off("click"),r.find("input").off("keyup")});function t(o,d){socket.emit("categories.categorySearch",{search:o,query:utils.params(),parentCid:c.parentCid||0,selectedCids:c.selectedCids,privilege:c.privilege,states:c.states,showLinks:c.showLinks},function(h,C){if(h)return e.error(h);d(l.concat(C))})}function n(o){app.parseAndTranslate(c.template,{categoryItems:o.slice(0,200),selectedCategory:ajaxify.data.selectedCategory,allCategoriesUrl:ajaxify.data.allCategoriesUrl},function(d){f.find('[component="category/list"]').replaceWith(d.find('[component="category/list"]')),f.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!!o.length)})}},u}.apply(y,g),s!==void 0&&(p.exports=s)},50548:(p,y,m)=>{var g,s;g=[m(22905),m(31369),m(85233)],s=function(e,u,f){const c={};return c.init=function(i,l){if(!i||!i.length)return;l=l||{};const r=l.onSelect||function(){};l.states=l.states||["watching","notwatching","ignoring"],l.template="partials/category-selector",f.fire("action:category.selector.options",{el:i,options:l}),e.init(i,l);const a={el:i,selectedCategory:null};i.on("click","[data-cid]",function(){const n=$(this);if(n.hasClass("disabled"))return!1;a.selectCategory(n.attr("data-cid")),r(a.selectedCategory)});const t=a.el.find('[component="category-selector-selected"]').html();return a.selectCategory=function(n){const o=a.el.find('[data-cid="'+n+'"]');a.selectedCategory={cid:n,name:o.attr("data-name")},o.length?a.el.find('[component="category-selector-selected"]').html(o.find('[component="category-markup"]').html()):a.el.find('[component="category-selector-selected"]').html(t)},a.getSelectedCategory=function(){return a.selectedCategory},a.getSelectedCid=function(){return a.selectedCategory?a.selectedCategory.cid:0},a},c.modal=function(i){i=i||{},i.onSelect=i.onSelect||function(){},i.onSubmit=i.onSubmit||function(){},app.parseAndTranslate("admin/partials/categories/select-category",{message:i.message},function(l){const r=u.dialog({title:i.title||"[[modules:composer.select_category]]",message:l,buttons:{save:{label:"[[global:select]]",className:"btn-primary",callback:t}}}),a=c.init(r.find('[component="category-selector"]'),i);function t(n){return n.preventDefault(),a.selectedCategory&&(i.onSubmit(a.selectedCategory),r.modal("hide")),!1}i.openOnLoad&&r.on("shown.bs.modal",function(){r.find(".dropdown-toggle").dropdown("toggle")}),r.find("form").on("submit",t)})},c}.apply(y,g),s!==void 0&&(p.exports=s)},7237:(p,y,m)=>{var g;g=function(){const s={};return s.core={"topic/teaser":function(e){return e?$('[component="category/topic"][data-tid="'+e+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(e,u){return $('[component="topic"][data-'+e+'="'+u+'"]')},post:function(e,u){return $('[component="post"][data-'+e+'="'+u+'"]')},"post/content":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/content"]')},"post/header":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/header"]')},"post/anchor":function(e){return $('[component="post"][data-index="'+e+'"] [component="post/anchor"]')},"post/vote-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/vote-count"]')},"post/bookmark-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/bookmark-count"]')},"user/postcount":function(e){return $('[component="user/postcount"][data-uid="'+e+'"]')},"user/reputation":function(e){return $('[component="user/reputation"][data-uid="'+e+'"]')},"category/topic":function(e,u){return $('[component="category/topic"][data-'+e+'="'+u+'"]')},"categories/category":function(e,u){return $('[component="categories/category"][data-'+e+'="'+u+'"]')},"chat/message":function(e){return $('[component="chat/message"][data-mid="'+e+'"]')},"chat/message/body":function(e){return $('[component="chat/message"][data-mid="'+e+'"] [component="chat/message/body"]')},"chat/recent/room":function(e){return $('[component="chat/recent/room"][data-roomid="'+e+'"]')}},s.get=function(){const e=Array.prototype.slice.call(arguments,1);return s.core[arguments[0]]&&e.length?s.core[arguments[0]].apply(this,e):$('[component="'+arguments[0]+'"]')},s}.call(y,m,y,p),g!==void 0&&(p.exports=g)}}]);
