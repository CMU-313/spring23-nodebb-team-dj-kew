"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2993],{846:(u,l,h)=>{var s;s=function(){let d=null;function g(t){const a=$(d.createElement("button",{class:"btn btn-xs btn-primary remove",title:"Remove Item"},"-"));return a.click(function(n){n.preventDefault(),t.remove(),a.remove(),t.each(function(i,e){e=$(e),e.is("[data-key]")&&d.destructElement(e)})}),a}function y(t,a,n,i,e,r){n=d.deepClone(n);const p=n["data-type"]||n.type||"text",c=$(d.createElementOfType(p,n.tagName,n));c.attr("data-parent","_"+a),delete n["data-type"],delete n.tagName;for(const o in n)if(n.hasOwnProperty(o)){const f=n[o];o.search("data-")===0?c.data(o.substring(5),f):o.search("prop-")===0?c.prop(o.substring(5),f):c.attr(o,f)}d.fillField(c,i),$('[data-parent="_'+a+'"]',t).length&&r(e),r(c),r(g(c.add(e)))}function E(t,a,n,i){const e=$(document.createTextNode(" ")),r=t.data("new")||"",p=$(d.createElement("button",{class:"btn btn-sm btn-primary add",title:"Expand Array"},"+"));p.click(function(c){c.preventDefault(),y(t,a,n,r,i.clone(),function(o){e.before(o)})}),t.append(e),t.append(p)}return{types:["array","div"],use:function(){d=this.helper},create:function(t,a){return d.createElement(a||"div")},set:function(t,a){let n=t.data("attributes");const i=t.data("key")||t.data("parent");let e=t.data("split")||", ";e=function(){try{return $(e)}catch{return $(document.createTextNode(e))}}(),typeof n!="object"&&(n={}),t.empty(),a instanceof Array||(a=[]);for(let r=0;r<a.length;r+=1)y(t,i,n,a[r],e.clone(),function(p){t.append(p)});E(t,i,n,e)},get:function(t,a,n){const i=t.data("key")||t.data("parent"),e=$('[data-parent="_'+i+'"]',t),r=[];if(e.each(function(p,c){c=$(c);const o=d.readValue(c);if(d.isTrue(c.data("empty"))||o!==void 0&&(o==null||o.length!==0))return r.push(o)}),n||r.length)return r}}}.call(l,h,l,u),s!==void 0&&(u.exports=s)}}]);
