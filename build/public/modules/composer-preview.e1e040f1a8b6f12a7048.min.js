"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2735],{83713:(f,c,u)=>{var v,s;v=[u(85233)],s=function(m){var e={};return e.render=function(i,r){if(r=r||function(){},!i.find(".preview-container").is(":visible"))return r();var t=i.find("textarea");socket.emit("plugins.composer.renderPreview",t.val(),function(l,n){l||(n=$("<div>"+n+"</div>"),n.find("img:not(.not-responsive)").addClass("img-responsive"),i.find(".preview").html(n),m.fire("action:composer.preview"),r())})},e.matchScroll=function(i){if(i.find(".preview-container").is(":visible")){var r=i.find("textarea"),t=i.find(".preview");if(r.length&&t.length){var l=r[0].scrollHeight-r.height();if(l===0)return;var n=r.scrollTop()/l;t.scrollTop(Math.max(t[0].scrollHeight-t.height(),0)*n)}}},e.handleToggler=function(i){e.env=utils.findBootstrapEnvironment();var r=i.find(".write-container .toggle-preview"),t=i.find(".preview-container .toggle-preview"),l=$(".preview-container"),n=$(".write-container");function a(){g(!1),e.env!=="xs"&&e.env!=="sm"&&localStorage.setItem("composer:previewToggled",!0)}function d(){g(!0),e.env!=="xs"&&e.env!=="sm"&&localStorage.removeItem("composer:previewToggled")}function g(o){e.env==="xs"||e.env==="sm"?(l.toggleClass("hide",!1),n.toggleClass("maximized",!1),r.toggleClass("hide",!0),l.toggleClass("hidden-xs hidden-sm",!o),n.toggleClass("hidden-xs hidden-sm",o),o&&e.render(i)):(l.toggleClass("hide",!o),n.toggleClass("maximized",!o),r.toggleClass("hide",o)),e.matchScroll(i)}e.toggle=g,t.on("click",function(){a(),i.find(".write").focus()}),r.on("click",function(){d(),i.find(".write").focus()}),localStorage.getItem("composer:previewToggled")||e.env==="xs"||e.env==="sm"?a():d()},e}.apply(c,v),s!==void 0&&(f.exports=s)}}]);
