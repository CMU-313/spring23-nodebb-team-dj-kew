"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[993,8879],{31771:(d,p,n)=>{var i,t;i=[n(59494),n(7927),n(55427)],t=function(f,r,l){const a={};a.init=function(){f.init(),o(),l.prepareSessionRevocation()};function o(){$('[component="account/save-moderation-note"]').on("click",function(){const s=$('[component="account/moderation-note"]').val();socket.emit("user.setModerationNote",{uid:ajaxify.data.uid,note:s},function(c){if(c)return r.error(c);$('[component="account/moderation-note"]').val(""),r.success("[[user:info.moderation-note.success]]");const u=Date.now(),e=[{note:utils.escapeHTML(s),user:app.user,timestamp:u,timestampISO:utils.toISOString(u)}];app.parseAndTranslate("account/info","moderationNotes",{moderationNotes:e},function(m){$('[component="account/moderation-note/list"]').prepend(m),m.find(".timeago").timeago()})})})}return a}.apply(p,i),t!==void 0&&(d.exports=t)},55427:(d,p,n)=>{var i,t;i=[n(59494),n(7237),n(74344),n(7927)],t=function(f,r,l,a){const o={};return o.init=function(){f.init(),o.prepareSessionRevocation()},o.prepareSessionRevocation=function(){r.get("user/sessions").on("click","[data-action]",function(){const s=$(this).parents("[data-uuid]"),c=s.attr("data-uuid");c&&l.del(`/users/${ajaxify.data.uid}/sessions/${c}`,{}).then(()=>{s.remove()}).catch(u=>{try{const e=JSON.parse(u.responseText);e.loggedIn===!1&&(window.location.href=config.relative_path+"/login?error="+e.title),a.error(e.title)}catch{a.error("[[error:invalid-data]]")}})})},o}.apply(p,i),t!==void 0&&(d.exports=t)}}]);
