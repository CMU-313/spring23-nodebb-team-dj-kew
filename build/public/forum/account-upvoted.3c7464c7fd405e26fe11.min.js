"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[6925,1549],{75913:(_,v,a)=>{var p,r;p=[a(59494),a(25142),a(85233)],r=function(h,d,l){const c={};let u,e=1;c.init=function(){h.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-responsive"),c.handleInfiniteScroll("account/posts")},c.handleInfiniteScroll=function(f){u=f,e=ajaxify.data.pagination.currentPage,config.usePagination||d.init(m)};function m(f){if(f<0)return;const E=utils.params();e+=1,E.page=e,d.loadMoreXhr(E,function(o,s){o.posts&&o.posts.length?g(o.posts,s):s()})}function g(f,E){app.parseAndTranslate(u,"posts",{posts:f},function(o){$('[component="posts"]').append(o),o.find("img:not(.not-responsive)").addClass("img-responsive"),o.find(".timeago").timeago(),app.createUserTooltips(o),utils.makeNumbersHumanReadable(o.find(".human-readable-number")),l.fire("action:posts.loaded",{posts:f}),E()})}return c}.apply(v,p),r!==void 0&&(_.exports=r)},14603:(_,v,a)=>{var p,r;p=[a(59494),a(75913)],r=function(h,d){const l={};return l.init=function(){h.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-responsive"),d.handleInfiniteScroll("account/upvoted")},l}.apply(v,p),r!==void 0&&(_.exports=r)},25142:(_,v,a)=>{var p,r;p=[a(85233),a(7927)],r=function(h,d){const l={};let c,u=0,e=!1,m,g=0;l.init=function(o,s){const n=$("body");typeof o=="function"?(c=o,m=n):(c=s,m=o||n),u=$(window).scrollTop(),$(window).off("scroll",f).on("scroll",f),n.height()<=$(window).height()&&c(1)};function f(){g&&clearTimeout(g),g=setTimeout(function(){g=0,E()},60)}function E(){const o=utils.findBootstrapEnvironment(),s=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||s)return;const n=$(window).scrollTop(),i=$(window).height(),t=m.height()-i,A=m.offset()?m.offset().top:0,T=100*(n-A)/(t<=0?i:t),C=15,D=85,w=n>u?1:-1;(T<C&&n<u||T>D&&n>u||T<0&&w>0&&t<0)&&c(w),u=n}return l.loadMore=function(o,s,n){if(e)return;e=!0;const i={method:o,data:s};h.fire("action:infinitescroll.loadmore",i),socket.emit(i.method,i.data,function(t,A){if(t)return e=!1,d.error(t);n(A,function(){e=!1})})},l.loadMoreXhr=function(o,s){if(e)return;e=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),i={url:n,data:o};h.fire("action:infinitescroll.loadmore.xhr",i),$.get(n,o,function(t){s(t,function(){e=!1})}).fail(function(t){e=!1,d.error(String(t.responseJSON||t.statusText))})},l.removeExtra=function(o,s,n){let i=$();if(o.length<=n)return i;const t=o.length-n;if(s>0){const A=$(document).height(),T=$(window).scrollTop();i=o.slice(0,t).remove(),$(window).scrollTop(T+($(document).height()-A))}else i=o.slice(o.length-t).remove();return i},l}.apply(v,p),r!==void 0&&(_.exports=r)}}]);
