"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[232,7214,6503,8786,5655,1018],{81018:(d,p,i)=>{var f,r;f=[i(7927)],r=function(n){const s={};s.init=function(){Promise.all([i.e(2441),i.e(4074),i.e(3216),i.e(524),i.e(8596)]).then(function(){var u=[i(30524)];(function(a){$('[component="chat/recent"]').on("click",'[component="chat/recent/room"]',function(){a.switchChat($(this).attr("data-roomid"))}),$('[component="chat/recent"]').on("scroll",function(){const c=$(this),g=(c[0].scrollHeight-c.height())*.9;c.scrollTop()>g&&m()})}).apply(null,u)}).catch(i.oe)};function m(){const u=$('[component="chat/recent"]');u.attr("loading")||(u.attr("loading",1),socket.emit("modules.chats.getRecentChats",{uid:ajaxify.data.uid,after:u.attr("data-nextstart")},function(a,c){if(a)return n.error(a);c&&c.rooms.length?l(c,function(){u.removeAttr("loading"),u.attr("data-nextstart",c.nextStart)}):u.removeAttr("loading")}))}function l(u,a){if(!u.rooms.length)return a();app.parseAndTranslate("chats","rooms",u,function(c){$('[component="chat/recent"]').append(c),c.find(".timeago").timeago(),a()})}return s}.apply(p,f),r!==void 0&&(d.exports=r)},7927:(d,p,i)=>{var f,r;f=[i(32230),i(7237),i(85233)],r=function(n,s,m){const l={};l.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:new Date().getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const o=$("#"+t.alert_id);o.length?a(o,t):u(t)},l.success=function(t,o){l.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:o||5e3})},l.error=function(t,o){if(t=t&&t.message||t,t==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}l.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:o||1e4})},l.remove=function(t){$("#alert_button_"+t).remove()};function u(t){app.parseAndTranslate("alert",t,function(o){let e=$("#"+t.alert_id);if(e.length)return a(e,t);e=o,e.fadeIn(200),s.get("toaster/tray").prepend(e),typeof t.closefn=="function"&&e.find("button").on("click",function(){return t.closefn(),c(e),!1}),t.timeout&&g(e,t),typeof t.clickfn=="function"&&e.addClass("pointer").on("click",function(h){$(h.target).is(".close")||t.clickfn(e,t),c(e)}),m.fire("action:alert.new",{alert:e,params:t})})}function a(t,o){t.find("strong").translateHtml(o.title),t.find("p").translateHtml(o.message),t.attr("class","alert alert-dismissable alert-"+o.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),o.timeout&&g(t,o),m.fire("action:alert.update",{alert:t,params:o}),t.off("click").removeClass("pointer"),typeof o.clickfn=="function"&&t.addClass("pointer").on("click",function(e){$(e.target).is(".close")||o.clickfn(),c(t)})}function c(t){t.fadeOut(500,function(){$(this).remove()})}function g(t,o){const e=o.timeout,h=setTimeout(function(){c(t),typeof o.timeoutfn=="function"&&o.timeoutfn(t,o)},e);t.attr("timeoutId",h),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(e+450)+"ms linear, background-color "+(e+450)+"ms ease-in"),t.addClass("animate"),m.fire("action:alert.animate",{alert:t,params:o})},50),t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return l}.apply(p,f),r!==void 0&&(d.exports=r)},7237:(d,p,i)=>{var f;f=function(){const r={};return r.core={"topic/teaser":function(n){return n?$('[component="category/topic"][data-tid="'+n+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(n,s){return $('[component="topic"][data-'+n+'="'+s+'"]')},post:function(n,s){return $('[component="post"][data-'+n+'="'+s+'"]')},"post/content":function(n){return $('[component="post"][data-pid="'+n+'"] [component="post/content"]')},"post/header":function(n){return $('[component="post"][data-pid="'+n+'"] [component="post/header"]')},"post/anchor":function(n){return $('[component="post"][data-index="'+n+'"] [component="post/anchor"]')},"post/vote-count":function(n){return $('[component="post"][data-pid="'+n+'"] [component="post/vote-count"]')},"post/bookmark-count":function(n){return $('[component="post"][data-pid="'+n+'"] [component="post/bookmark-count"]')},"user/postcount":function(n){return $('[component="user/postcount"][data-uid="'+n+'"]')},"user/reputation":function(n){return $('[component="user/reputation"][data-uid="'+n+'"]')},"category/topic":function(n,s){return $('[component="category/topic"][data-'+n+'="'+s+'"]')},"categories/category":function(n,s){return $('[component="categories/category"][data-'+n+'="'+s+'"]')},"chat/message":function(n){return $('[component="chat/message"][data-mid="'+n+'"]')},"chat/message/body":function(n){return $('[component="chat/message"][data-mid="'+n+'"] [component="chat/message/body"]')},"chat/recent/room":function(n){return $('[component="chat/recent/room"][data-roomid="'+n+'"]')}},r.get=function(){const n=Array.prototype.slice.call(arguments,1);return r.core[arguments[0]]&&n.length?r.core[arguments[0]].apply(this,n):$('[component="'+arguments[0]+'"]')},r}.call(p,i,p,d),f!==void 0&&(d.exports=f)}}]);
