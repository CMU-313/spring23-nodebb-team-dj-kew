"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[7171,7214,9617,6503,3375,3014,8786,5655,831],{17592:(y,E,d)=>{var h,f;h=[d(25142),d(59006),d(74344),d(31369),d(7927)],f=function(e,s,m,a,c){const o={};return o.init=function(){e.init(o.loadMoreGroups),$('button[data-action="new"]').on("click",function(){a.prompt("[[groups:new-group.group_name]]",function(u){u&&u.length&&m.post("/groups",{name:u}).then(t=>{ajaxify.go("groups/"+t.slug)}).catch(c.error)})});const i=utils.params();$("#search-sort").val(i.sort||"alpha"),$("#search-text").on("keyup",o.search),$("#search-button").on("click",o.search),$("#search-sort").on("change",function(){ajaxify.go("groups?sort="+$("#search-sort").val())})},o.loadMoreGroups=function(i){i<0||e.loadMore("groups.loadMore",{sort:$("#search-sort").val(),after:$('[component="groups/container"]').attr("data-nextstart")},function(u,t){u&&u.groups.length?s.render("partials/groups/list",{groups:u.groups}).then(function(r){$("#groups-list").append(r),t()}):t(),u&&u.nextStart&&$('[component="groups/container"]').attr("data-nextstart",u.nextStart)})},o.search=function(){const i=$("#groups-list"),u=$("#search-text"),t=$("#search-sort");return socket.emit("groups.search",{query:u.val(),options:{sort:t.val(),filterHidden:!0,showMembers:!0,hideEphemeralGroups:!0}},function(r,n){if(r)return c.error(r);n=n.filter(function(l){return l.name!=="registered-users"&&l.name!=="guests"}),s.render("partials/groups/list",{groups:n}).then(function(l){i.empty().append(l)})}),!1},o}.apply(E,h),f!==void 0&&(y.exports=f)},25142:(y,E,d)=>{var h,f;h=[d(85233),d(7927)],f=function(e,s){const m={};let a,c=0,o=!1,i,u=0;m.init=function(n,l){const p=$("body");typeof n=="function"?(a=n,i=p):(a=l,i=n||p),c=$(window).scrollTop(),$(window).off("scroll",t).on("scroll",t),p.height()<=$(window).height()&&a(1)};function t(){u&&clearTimeout(u),u=setTimeout(function(){u=0,r()},60)}function r(){const n=utils.findBootstrapEnvironment(),l=(n==="xs"||n==="sm")&&$("html").hasClass("composing");if(o||l)return;const p=$(window).scrollTop(),_=$(window).height(),g=i.height()-_,A=i.offset()?i.offset().top:0,T=100*(p-A)/(g<=0?_:g),x=15,k=85,v=p>c?1:-1;(T<x&&p<c||T>k&&p>c||T<0&&v>0&&g<0)&&a(v),c=p}return m.loadMore=function(n,l,p){if(o)return;o=!0;const _={method:n,data:l};e.fire("action:infinitescroll.loadmore",_),socket.emit(_.method,_.data,function(g,A){if(g)return o=!1,s.error(g);p(A,function(){o=!1})})},m.loadMoreXhr=function(n,l){if(o)return;o=!0;const p=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),_={url:p,data:n};e.fire("action:infinitescroll.loadmore.xhr",_),$.get(p,n,function(g){l(g,function(){o=!1})}).fail(function(g){o=!1,s.error(String(g.responseJSON||g.statusText))})},m.removeExtra=function(n,l,p){let _=$();if(n.length<=p)return _;const g=n.length-p;if(l>0){const A=$(document).height(),T=$(window).scrollTop();_=n.slice(0,g).remove(),$(window).scrollTop(T+($(document).height()-A))}else _=n.slice(n.length-g).remove();return _},m}.apply(E,h),f!==void 0&&(y.exports=f)},7927:(y,E,d)=>{var h,f;h=[d(32230),d(7237),d(85233)],f=function(e,s,m){const a={};a.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:new Date().getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const r=$("#"+t.alert_id);r.length?o(r,t):c(t)},a.success=function(t,r){a.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:r||5e3})},a.error=function(t,r){if(t=t&&t.message||t,t==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}a.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:r||1e4})},a.remove=function(t){$("#alert_button_"+t).remove()};function c(t){app.parseAndTranslate("alert",t,function(r){let n=$("#"+t.alert_id);if(n.length)return o(n,t);n=r,n.fadeIn(200),s.get("toaster/tray").prepend(n),typeof t.closefn=="function"&&n.find("button").on("click",function(){return t.closefn(),i(n),!1}),t.timeout&&u(n,t),typeof t.clickfn=="function"&&n.addClass("pointer").on("click",function(l){$(l.target).is(".close")||t.clickfn(n,t),i(n)}),m.fire("action:alert.new",{alert:n,params:t})})}function o(t,r){t.find("strong").translateHtml(r.title),t.find("p").translateHtml(r.message),t.attr("class","alert alert-dismissable alert-"+r.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),r.timeout&&u(t,r),m.fire("action:alert.update",{alert:t,params:r}),t.off("click").removeClass("pointer"),typeof r.clickfn=="function"&&t.addClass("pointer").on("click",function(n){$(n.target).is(".close")||r.clickfn(),i(t)})}function i(t){t.fadeOut(500,function(){$(this).remove()})}function u(t,r){const n=r.timeout,l=setTimeout(function(){i(t),typeof r.timeoutfn=="function"&&r.timeoutfn(t,r)},n);t.attr("timeoutId",l),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(n+450)+"ms linear, background-color "+(n+450)+"ms ease-in"),t.addClass("animate"),m.fire("action:alert.animate",{alert:t,params:r})},50),t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return a}.apply(E,h),f!==void 0&&(y.exports=f)},74344:(y,E,d)=>{var h,f;h=[d(85233)],f=(e=>{const s={},m=config.relative_path+"/api/v3";function a(c,o){c.url=c.url.startsWith("/api")?config.relative_path+c.url:m+c.url;async function i(u){({options:c}=await e.fire("filter:api.options",{options:c})),$.ajax(c).done(t=>{u(null,t&&t.hasOwnProperty("status")&&t.hasOwnProperty("response")?t.response:t||{})}).fail(t=>{let r;t.responseJSON&&(r=t.responseJSON.status&&t.responseJSON.status.message?t.responseJSON.status.message:t.responseJSON.error),u(new Error(r||t.statusText))})}if(typeof o=="function"){i(o);return}return new Promise((u,t)=>{i(function(r,n){r?t(r):u(n)})})}return s.get=(c,o,i)=>a({url:c+(o&&Object.keys(o).length?"?"+$.param(o):"")},i),s.head=(c,o,i)=>a({url:c+(o&&Object.keys(o).length?"?"+$.param(o):""),method:"head"},i),s.post=(c,o,i)=>a({url:c,method:"post",data:JSON.stringify(o||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},i),s.patch=(c,o,i)=>a({url:c,method:"patch",data:JSON.stringify(o||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},i),s.put=(c,o,i)=>a({url:c,method:"put",data:JSON.stringify(o||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},i),s.del=(c,o,i)=>a({url:c,method:"delete",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},i),s.delete=s.del,s}).apply(E,h),f!==void 0&&(y.exports=f)},7237:(y,E,d)=>{var h;h=function(){const f={};return f.core={"topic/teaser":function(e){return e?$('[component="category/topic"][data-tid="'+e+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(e,s){return $('[component="topic"][data-'+e+'="'+s+'"]')},post:function(e,s){return $('[component="post"][data-'+e+'="'+s+'"]')},"post/content":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/content"]')},"post/header":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/header"]')},"post/anchor":function(e){return $('[component="post"][data-index="'+e+'"] [component="post/anchor"]')},"post/vote-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/vote-count"]')},"post/bookmark-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/bookmark-count"]')},"user/postcount":function(e){return $('[component="user/postcount"][data-uid="'+e+'"]')},"user/reputation":function(e){return $('[component="user/reputation"][data-uid="'+e+'"]')},"category/topic":function(e,s){return $('[component="category/topic"][data-'+e+'="'+s+'"]')},"categories/category":function(e,s){return $('[component="categories/category"][data-'+e+'="'+s+'"]')},"chat/message":function(e){return $('[component="chat/message"][data-mid="'+e+'"]')},"chat/message/body":function(e){return $('[component="chat/message"][data-mid="'+e+'"] [component="chat/message/body"]')},"chat/recent/room":function(e){return $('[component="chat/recent/room"][data-roomid="'+e+'"]')}},f.get=function(){const e=Array.prototype.slice.call(arguments,1);return f.core[arguments[0]]&&e.length?f.core[arguments[0]].apply(this,e):$('[component="'+arguments[0]+'"]')},f}.call(E,d,E,y),h!==void 0&&(y.exports=h)}}]);
