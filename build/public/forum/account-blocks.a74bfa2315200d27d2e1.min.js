"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2179],{74648:(r,u,i)=>{var a,o;a=[i(59494),i(74344),i(85233),i(7927)],o=function(f,l,d,c){const s={};return s.init=function(){f.init(),$("#user-search").on("keyup",function(){const e=this.value;l.get("/api/users",{query:e,searchBy:"username",paginate:!1},function(n,t){if(n)return c.error(n);t.matchCount>10&&(t.users.length=10),app.parseAndTranslate("account/blocks","edit",{edit:t.users},function(g){$(".block-edit").html(g)})})}),$(".block-edit").on("click",'[data-action="toggle"]',function(){const e=parseInt(this.getAttribute("data-uid"),10);socket.emit("user.toggleBlock",{blockeeUid:e,blockerUid:ajaxify.data.uid},s.refreshList)})},s.refreshList=function(e){if(e)return c.error(e);$.get(config.relative_path+"/api/"+ajaxify.currentPage).done(function(n){app.parseAndTranslate("account/blocks","users",n,function(t){$("#users-container").html(t),$("#users-container").siblings("div.alert")[t.length?"hide":"show"]()}),d.fire("action:user.blocks.toggle",{data:n})}).fail(function(){ajaxify.go(ajaxify.currentPage)})},s}.apply(u,a),o!==void 0&&(r.exports=o)}}]);
