"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[8876,3009],{58899:(_,A,a)=>{var u,r;u=[a(59494),a(98480)],r=function(m,d){const s={};return s.init=function(){m.init(),d.handleInfiniteScroll("account/ignored")},s}.apply(A,u),r!==void 0&&(_.exports=r)},98480:(_,A,a)=>{var u,r;u=[a(59494),a(25142),a(85233)],r=function(m,d,s){const l={};let p,e=1;l.init=function(){m.init(),l.handleInfiniteScroll("account/topics")},l.handleInfiniteScroll=function(f){p=f,e=ajaxify.data.pagination.currentPage,config.usePagination||d.init(h)};function h(f){if(f<0)return;const E=utils.params();e+=1,E.page=e,d.loadMoreXhr(E,function(o,c){o.topics&&o.topics.length?g(o.topics,c):c()})}function g(f,E){app.parseAndTranslate(p,"topics",{topics:f},function(o){$('[component="category"]').append(o),o.find(".timeago").timeago(),app.createUserTooltips(o),utils.makeNumbersHumanReadable(o.find(".human-readable-number")),s.fire("action:topics.loaded",{topics:f}),E()})}return l}.apply(A,u),r!==void 0&&(_.exports=r)},25142:(_,A,a)=>{var u,r;u=[a(85233),a(7927)],r=function(m,d){const s={};let l,p=0,e=!1,h,g=0;s.init=function(o,c){const n=$("body");typeof o=="function"?(l=o,h=n):(l=c,h=o||n),p=$(window).scrollTop(),$(window).off("scroll",f).on("scroll",f),n.height()<=$(window).height()&&l(1)};function f(){g&&clearTimeout(g),g=setTimeout(function(){g=0,E()},60)}function E(){const o=utils.findBootstrapEnvironment(),c=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||c)return;const n=$(window).scrollTop(),i=$(window).height(),t=h.height()-i,T=h.offset()?h.offset().top:0,w=100*(n-T)/(t<=0?i:t),D=15,b=85,v=n>p?1:-1;(w<D&&n<p||w>b&&n>p||w<0&&v>0&&t<0)&&l(v),p=n}return s.loadMore=function(o,c,n){if(e)return;e=!0;const i={method:o,data:c};m.fire("action:infinitescroll.loadmore",i),socket.emit(i.method,i.data,function(t,T){if(t)return e=!1,d.error(t);n(T,function(){e=!1})})},s.loadMoreXhr=function(o,c){if(e)return;e=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),i={url:n,data:o};m.fire("action:infinitescroll.loadmore.xhr",i),$.get(n,o,function(t){c(t,function(){e=!1})}).fail(function(t){e=!1,d.error(String(t.responseJSON||t.statusText))})},s.removeExtra=function(o,c,n){let i=$();if(o.length<=n)return i;const t=o.length-n;if(c>0){const T=$(document).height(),w=$(window).scrollTop();i=o.slice(0,t).remove(),$(window).scrollTop(w+($(document).height()-T))}else i=o.slice(o.length-t).remove();return i},s}.apply(A,u),r!==void 0&&(_.exports=r)}}]);
