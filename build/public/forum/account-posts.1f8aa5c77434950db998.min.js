"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1549],{75913:(_,A,u)=>{var h,a;h=[u(59494),u(25142),u(85233)],a=function(T,g,f){const r={};let l,e=1;r.init=function(){T.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-responsive"),r.handleInfiniteScroll("account/posts")},r.handleInfiniteScroll=function(c){l=c,e=ajaxify.data.pagination.currentPage,config.usePagination||g.init(p)};function p(c){if(c<0)return;const m=utils.params();e+=1,m.page=e,g.loadMoreXhr(m,function(o,s){o.posts&&o.posts.length?d(o.posts,s):s()})}function d(c,m){app.parseAndTranslate(l,"posts",{posts:c},function(o){$('[component="posts"]').append(o),o.find("img:not(.not-responsive)").addClass("img-responsive"),o.find(".timeago").timeago(),app.createUserTooltips(o),utils.makeNumbersHumanReadable(o.find(".human-readable-number")),f.fire("action:posts.loaded",{posts:c}),m()})}return r}.apply(A,h),a!==void 0&&(_.exports=a)},25142:(_,A,u)=>{var h,a;h=[u(85233),u(7927)],a=function(T,g){const f={};let r,l=0,e=!1,p,d=0;f.init=function(o,s){const n=$("body");typeof o=="function"?(r=o,p=n):(r=s,p=o||n),l=$(window).scrollTop(),$(window).off("scroll",c).on("scroll",c),n.height()<=$(window).height()&&r(1)};function c(){d&&clearTimeout(d),d=setTimeout(function(){d=0,m()},60)}function m(){const o=utils.findBootstrapEnvironment(),s=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||s)return;const n=$(window).scrollTop(),i=$(window).height(),t=p.height()-i,E=p.offset()?p.offset().top:0,v=100*(n-E)/(t<=0?i:t),b=15,C=85,w=n>l?1:-1;(v<b&&n<l||v>C&&n>l||v<0&&w>0&&t<0)&&r(w),l=n}return f.loadMore=function(o,s,n){if(e)return;e=!0;const i={method:o,data:s};T.fire("action:infinitescroll.loadmore",i),socket.emit(i.method,i.data,function(t,E){if(t)return e=!1,g.error(t);n(E,function(){e=!1})})},f.loadMoreXhr=function(o,s){if(e)return;e=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),i={url:n,data:o};T.fire("action:infinitescroll.loadmore.xhr",i),$.get(n,o,function(t){s(t,function(){e=!1})}).fail(function(t){e=!1,g.error(String(t.responseJSON||t.statusText))})},f.removeExtra=function(o,s,n){let i=$();if(o.length<=n)return i;const t=o.length-n;if(s>0){const E=$(document).height(),v=$(window).scrollTop();i=o.slice(0,t).remove(),$(window).scrollTop(v+($(document).height()-E))}else i=o.slice(o.length-t).remove();return i},f}.apply(A,h),a!==void 0&&(_.exports=a)}}]);
