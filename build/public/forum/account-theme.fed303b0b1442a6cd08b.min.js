"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1480,8306],{5750:(l,u,r)=>{var a,n;a=[r(59494),r(66603),r(18340),r(7927)],n=function(o,t,e,s){const m={};return m.init=()=>{o.init(),m.setupForm()},m.setupForm=()=>{const p=document.getElementById("save"),d=document.getElementById("theme-settings"),[h,f]=[!!t.getItem("persona:menus:legacy-layout"),t.getItem("persona:navbar:autohide")];document.getElementById("persona:menus:legacy-layout").checked=h;try{(JSON.parse(f)||["xs","sm"]).forEach(c=>{const g=document.getElementById("persona:navbar:autohide").querySelector(`option[value="${c}"]`);g.selected=!0})}catch(i){console.warn(i)}p&&p.addEventListener("click",()=>{const i=e.helper.serializeForm($(d));Object.keys(i).forEach(c=>{if(c==="persona:menus:legacy-layout"){i[c]==="on"?t.setItem("persona:menus:legacy-layout","true"):t.removeItem("persona:menus:legacy-layout");return}t.setItem(c,i[c])}),s.success("[[success:settings-saved]]")})},m}.apply(u,a),n!==void 0&&(l.exports=n)},66603:(l,u,r)=>{var a;a=function(){function n(){this._store={},this._keys=[]}n.prototype.isMock=!0,n.prototype.setItem=function(e,s){e=String(e),this._keys.indexOf(e)===-1&&this._keys.push(e),this._store[e]=s},n.prototype.getItem=function(e){return e=String(e),this._keys.indexOf(e)===-1?null:this._store[e]},n.prototype.removeItem=function(e){e=String(e),this._keys=this._keys.filter(function(s){return s!==e}),this._store[e]=null},n.prototype.clear=function(){this._keys=[],this._store={}},n.prototype.key=function(e){return e=parseInt(e,10)||0,this._keys[e]},Object.defineProperty&&Object.defineProperty(n.prototype,"length",{get:function(){return this._keys.length}});let o;const t=Date.now().toString();try{if(o=window.localStorage,o.setItem(t,t),o.getItem(t)!==t)throw Error("localStorage behaved unexpectedly");return o.removeItem(t),o}catch(e){console.warn(e),console.warn("localStorage failed, falling back on sessionStorage");try{if(o=window.sessionStorage,o.setItem(t,t),o.getItem(t)!==t)throw Error("sessionStorage behaved unexpectedly");return o.removeItem(t),o}catch(s){return console.warn(s),console.warn("sessionStorage failed, falling back on memory storage"),new n}}}.call(u,r,u,l),a!==void 0&&(l.exports=a)}}]);
