"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[3009],{98480:(A,b,p)=>{var m,a;m=[p(59494),p(25142),p(85233)],a=function(w,g,f){const r={};let l,e=1;r.init=function(){w.init(),r.handleInfiniteScroll("account/topics")},r.handleInfiniteScroll=function(s){l=s,e=ajaxify.data.pagination.currentPage,config.usePagination||g.init(u)};function u(s){if(s<0)return;const h=utils.params();e+=1,h.page=e,g.loadMoreXhr(h,function(o,c){o.topics&&o.topics.length?d(o.topics,c):c()})}function d(s,h){app.parseAndTranslate(l,"topics",{topics:s},function(o){$('[component="category"]').append(o),o.find(".timeago").timeago(),app.createUserTooltips(o),utils.makeNumbersHumanReadable(o.find(".human-readable-number")),f.fire("action:topics.loaded",{topics:s}),h()})}return r}.apply(b,m),a!==void 0&&(A.exports=a)},25142:(A,b,p)=>{var m,a;m=[p(85233),p(7927)],a=function(w,g){const f={};let r,l=0,e=!1,u,d=0;f.init=function(o,c){const t=$("body");typeof o=="function"?(r=o,u=t):(r=c,u=o||t),l=$(window).scrollTop(),$(window).off("scroll",s).on("scroll",s),t.height()<=$(window).height()&&r(1)};function s(){d&&clearTimeout(d),d=setTimeout(function(){d=0,h()},60)}function h(){const o=utils.findBootstrapEnvironment(),c=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||c)return;const t=$(window).scrollTop(),i=$(window).height(),n=u.height()-i,E=u.offset()?u.offset().top:0,T=100*(t-E)/(n<=0?i:n),v=15,D=85,_=t>l?1:-1;(T<v&&t<l||T>D&&t>l||T<0&&_>0&&n<0)&&r(_),l=t}return f.loadMore=function(o,c,t){if(e)return;e=!0;const i={method:o,data:c};w.fire("action:infinitescroll.loadmore",i),socket.emit(i.method,i.data,function(n,E){if(n)return e=!1,g.error(n);t(E,function(){e=!1})})},f.loadMoreXhr=function(o,c){if(e)return;e=!0;const t=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),i={url:t,data:o};w.fire("action:infinitescroll.loadmore.xhr",i),$.get(t,o,function(n){c(n,function(){e=!1})}).fail(function(n){e=!1,g.error(String(n.responseJSON||n.statusText))})},f.removeExtra=function(o,c,t){let i=$();if(o.length<=t)return i;const n=o.length-t;if(c>0){const E=$(document).height(),T=$(window).scrollTop();i=o.slice(0,n).remove(),$(window).scrollTop(T+($(document).height()-E))}else i=o.slice(o.length-n).remove();return i},f}.apply(b,m),a!==void 0&&(A.exports=a)}}]);
