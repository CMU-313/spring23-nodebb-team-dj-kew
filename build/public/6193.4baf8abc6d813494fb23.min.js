"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[6193],{86193:(y,g,d)=>{var m,s;m=[d(74344),d(7927)],s=function(b,l){const a={},h={delay:200};a.init=u=>{const{input:e,source:o,onSelect:c,delay:t}={...h,...u};app.loadJQueryUI(function(){e.autocomplete({delay:t,open:function(){$(this).autocomplete("widget").css("z-index",100005)},select:function(n,f){_(e,c,n,f)},source:o})})},a.user=function(u,e,o){typeof e=="function"&&(o=e,e={}),e=e||{},a.init({input:u,onSelect:o,source:(c,t)=>{e.query=c.term,b.get("/api/users",e,function(n,f){if(n)return l.error(n);if(f&&f.users){const r=f.users.map(function(i){const p=$("<div></div>").html(i.username).text();return i&&{label:p,value:p,user:{uid:i.uid,name:i.username,slug:i.userslug,username:i.username,userslug:i.userslug,picture:i.picture,banned:i.banned,"icon:text":i["icon:text"],"icon:bgColor":i["icon:bgColor"]}}});t(r)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})},a.group=function(u,e){a.init({input:u,onSelect:e,source:(o,c)=>{socket.emit("groups.search",{query:o.term},function(t,n){if(t)return l.error(t);if(n&&n.length){const f=n.map(function(r){return r&&{label:r.name,value:r.name,group:r}});c(f)}$(".ui-autocomplete a").attr("data-ajaxify","false")})}})},a.tag=function(u,e){a.init({input:u,onSelect:e,delay:100,source:(o,c)=>{socket.emit("topics.autocompleteTags",{query:o.term,cid:ajaxify.data.cid||0},function(t,n){if(t)return l.error(t);n&&c(n),$(".ui-autocomplete a").attr("data-ajaxify","false")})}})};function _(u,e,o,c){e=e||function(){};const t=jQuery.Event("keypress");t.which=13,t.keyCode=13,setTimeout(function(){u.trigger(t)},100),e(o,c)}return a}.apply(g,m),s!==void 0&&(y.exports=s)}}]);
