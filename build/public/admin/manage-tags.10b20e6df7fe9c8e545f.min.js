(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2882,7214,6503,9447,8786,5655],{90301:(p,_,m)=>{"use strict";var g,u;g=[m(31369),m(7927),m(92555)],u=function(s,c,n){const l={};l.init=function(){n.enable(".tag-management",".tag-row"),i(),a(),r(),h()};function i(){const e=$("#create-modal"),o=$("#create-tag-name"),t=$("#create-modal-go");e.on("keypress",function(f){f.keyCode===13&&t.click()}),$("#create").on("click",function(){e.modal("show"),setTimeout(function(){o.focus()},250)}),t.on("click",function(){socket.emit("admin.tags.create",{tag:o.val()},function(f){if(f)return c.error(f);o.val(""),e.on("hidden.bs.modal",function(){ajaxify.refresh()}),e.modal("hide")})})}function a(){$("#tag-search").on("input propertychange",utils.debounce(function(){socket.emit("topics.searchAndLoadTags",{query:$("#tag-search").val()},function(e,o){if(e)return c.error(e);app.parseAndTranslate("admin/manage/tags","tags",{tags:o.tags},function(t){$(".tag-list").html(t),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),n.enable(".tag-management",".tag-row")})})},250))}function r(){$("#rename").on("click",function(){const e=$(".tag-row.ui-selected");if(!e.length)return;const o=s.dialog({title:"[[admin/manage/tags:alerts.editing]]",message:$(".rename-modal").html(),buttons:{success:{label:"Save",className:"btn-primary save",callback:function(){const t=[];e.each(function(f,d){d=$(d),t.push({value:d.attr("data-tag"),newName:o.find('[data-name="value"]').val()})}),socket.emit("admin.tags.rename",t,function(f){if(f)return c.error(f);c.success("[[admin/manage/tags:alerts.update-success]]"),ajaxify.refresh()})}}}})})}function h(){$("#deleteSelected").on("click",function(){const e=$(".tag-row.ui-selected");e.length&&s.confirm("[[admin/manage/tags:alerts.confirm-delete]]",function(o){if(!o)return;const t=[];e.each(function(f,d){t.push($(d).attr("data-tag"))}),socket.emit("admin.tags.deleteTags",{tags:t},function(f){if(f)return c.error(f);e.remove()})})})}return l}.apply(_,g),u!==void 0&&(p.exports=u)},92555:(p,_,m)=>{"use strict";var g,u;g=[m(44855)],u=function(){const s={};return s.enable=function(c,n){$(c).selectable({filter:n})},s}.apply(_,g),u!==void 0&&(p.exports=u)},7927:(p,_,m)=>{"use strict";var g,u;g=[m(32230),m(7237),m(85233)],u=function(s,c,n){const l={};l.alert=function(e){e.alert_id="alert_button_"+(e.alert_id?e.alert_id:new Date().getTime()),e.title=e.title&&e.title.trim()||"",e.message=e.message?e.message.trim():"",e.type=e.type||"info";const o=$("#"+e.alert_id);o.length?a(o,e):i(e)},l.success=function(e,o){l.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:e,type:"success",timeout:o||5e3})},l.error=function(e,o){if(e=e&&e.message||e,e==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}l.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:e,type:"danger",timeout:o||1e4})},l.remove=function(e){$("#alert_button_"+e).remove()};function i(e){app.parseAndTranslate("alert",e,function(o){let t=$("#"+e.alert_id);if(t.length)return a(t,e);t=o,t.fadeIn(200),c.get("toaster/tray").prepend(t),typeof e.closefn=="function"&&t.find("button").on("click",function(){return e.closefn(),r(t),!1}),e.timeout&&h(t,e),typeof e.clickfn=="function"&&t.addClass("pointer").on("click",function(f){$(f.target).is(".close")||e.clickfn(t,e),r(t)}),n.fire("action:alert.new",{alert:t,params:e})})}function a(e,o){e.find("strong").translateHtml(o.title),e.find("p").translateHtml(o.message),e.attr("class","alert alert-dismissable alert-"+o.type+" clearfix"),clearTimeout(parseInt(e.attr("timeoutId"),10)),o.timeout&&h(e,o),n.fire("action:alert.update",{alert:e,params:o}),e.off("click").removeClass("pointer"),typeof o.clickfn=="function"&&e.addClass("pointer").on("click",function(t){$(t.target).is(".close")||o.clickfn(),r(e)})}function r(e){e.fadeOut(500,function(){$(this).remove()})}function h(e,o){const t=o.timeout,f=setTimeout(function(){r(e),typeof o.timeoutfn=="function"&&o.timeoutfn(e,o)},t);e.attr("timeoutId",f),e.css("transition-property","none"),e.removeClass("animate"),setTimeout(function(){e.css("transition-property",""),e.css("transition","width "+(t+450)+"ms linear, background-color "+(t+450)+"ms ease-in"),e.addClass("animate"),n.fire("action:alert.animate",{alert:e,params:o})},50),e.on("mouseenter",function(){$(this).css("transition-duration",0)})}return l}.apply(_,g),u!==void 0&&(p.exports=u)},7237:(p,_,m)=>{"use strict";var g;g=function(){const u={};return u.core={"topic/teaser":function(s){return s?$('[component="category/topic"][data-tid="'+s+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(s,c){return $('[component="topic"][data-'+s+'="'+c+'"]')},post:function(s,c){return $('[component="post"][data-'+s+'="'+c+'"]')},"post/content":function(s){return $('[component="post"][data-pid="'+s+'"] [component="post/content"]')},"post/header":function(s){return $('[component="post"][data-pid="'+s+'"] [component="post/header"]')},"post/anchor":function(s){return $('[component="post"][data-index="'+s+'"] [component="post/anchor"]')},"post/vote-count":function(s){return $('[component="post"][data-pid="'+s+'"] [component="post/vote-count"]')},"post/bookmark-count":function(s){return $('[component="post"][data-pid="'+s+'"] [component="post/bookmark-count"]')},"user/postcount":function(s){return $('[component="user/postcount"][data-uid="'+s+'"]')},"user/reputation":function(s){return $('[component="user/reputation"][data-uid="'+s+'"]')},"category/topic":function(s,c){return $('[component="category/topic"][data-'+s+'="'+c+'"]')},"categories/category":function(s,c){return $('[component="categories/category"][data-'+s+'="'+c+'"]')},"chat/message":function(s){return $('[component="chat/message"][data-mid="'+s+'"]')},"chat/message/body":function(s){return $('[component="chat/message"][data-mid="'+s+'"] [component="chat/message/body"]')},"chat/recent/room":function(s){return $('[component="chat/recent/room"][data-roomid="'+s+'"]')}},u.get=function(){const s=Array.prototype.slice.call(arguments,1);return u.core[arguments[0]]&&s.length?u.core[arguments[0]].apply(this,s):$('[component="'+arguments[0]+'"]')},u}.call(_,m,_,p),g!==void 0&&(p.exports=g)},44855:(p,_,m)=>{var g,u,s;/*!
* jQuery UI Selectable 1.13.2
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/(function(c){"use strict";u=[m(19755),m(66177),m(85592),m(26891)],g=c,s=typeof g=="function"?g.apply(_,u):g,s!==void 0&&(p.exports=s)})(function(c){"use strict";return c.widget("ui.selectable",c.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var n=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){n.elementPos=c(n.element[0]).offset(),n.selectees=c(n.options.filter,n.element[0]),n._addClass(n.selectees,"ui-selectee"),n.selectees.each(function(){var l=c(this),i=l.offset(),a={left:i.left-n.elementPos.left,top:i.top-n.elementPos.top};c.data(this,"selectable-item",{element:this,$element:l,left:a.left,top:a.top,right:a.left+l.outerWidth(),bottom:a.top+l.outerHeight(),startselected:!1,selected:l.hasClass("ui-selected"),selecting:l.hasClass("ui-selecting"),unselecting:l.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=c("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var l=this,i=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=c(this.element[0]).offset(),!this.options.disabled&&(this.selectees=c(i.filter,this.element[0]),this._trigger("start",n),c(i.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=c.data(this,"selectable-item");a.startselected=!0,!n.metaKey&&!n.ctrlKey&&(l._removeClass(a.$element,"ui-selected"),a.selected=!1,l._addClass(a.$element,"ui-unselecting"),a.unselecting=!0,l._trigger("unselecting",n,{unselecting:a.element}))}),c(n.target).parents().addBack().each(function(){var a,r=c.data(this,"selectable-item");if(r)return a=!n.metaKey&&!n.ctrlKey||!r.$element.hasClass("ui-selected"),l._removeClass(r.$element,a?"ui-unselecting":"ui-selected")._addClass(r.$element,a?"ui-selecting":"ui-unselecting"),r.unselecting=!a,r.selecting=a,r.selected=a,a?l._trigger("selecting",n,{selecting:r.element}):l._trigger("unselecting",n,{unselecting:r.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var l,i=this,a=this.options,r=this.opos[0],h=this.opos[1],e=n.pageX,o=n.pageY;return r>e&&(l=e,e=r,r=l),h>o&&(l=o,o=h,h=l),this.helper.css({left:r,top:h,width:e-r,height:o-h}),this.selectees.each(function(){var t=c.data(this,"selectable-item"),f=!1,d={};!t||t.element===i.element[0]||(d.left=t.left+i.elementPos.left,d.right=t.right+i.elementPos.left,d.top=t.top+i.elementPos.top,d.bottom=t.bottom+i.elementPos.top,a.tolerance==="touch"?f=!(d.left>e||d.right<r||d.top>o||d.bottom<h):a.tolerance==="fit"&&(f=d.left>r&&d.right<e&&d.top>h&&d.bottom<o),f?(t.selected&&(i._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(i._addClass(t.$element,"ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(i._removeClass(t.$element,"ui-selecting"),t.selecting=!1,i._addClass(t.$element,"ui-selected"),t.selected=!0):(i._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(i._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&!n.metaKey&&!n.ctrlKey&&!t.startselected&&(i._removeClass(t.$element,"ui-selected"),t.selected=!1,i._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))))}),!1}},_mouseStop:function(n){var l=this;return this.dragged=!1,c(".ui-unselecting",this.element[0]).each(function(){var i=c.data(this,"selectable-item");l._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,l._trigger("unselected",n,{unselected:i.element})}),c(".ui-selecting",this.element[0]).each(function(){var i=c.data(this,"selectable-item");l._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,l._trigger("selected",n,{selected:i.element})}),this._trigger("stop",n),this.helper.remove(),!1}})})}}]);
