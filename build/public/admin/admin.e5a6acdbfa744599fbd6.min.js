(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[4955],{73461:(T,b,s)=>{(function(i){"use strict";var h={tagClass:function(t){return"label label-info"},focusClass:"focus",itemValue:function(t){return t&&t.toString()},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function p(t,e){this.isInit=!0,this.itemsArray=[],this.$element=i(t),this.$element.hide(),this.isSelect=t.tagName==="SELECT",this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=i('<div class="bootstrap-tagsinput"></div>'),this.$input=i('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(e),this.isInit=!1}p.prototype={constructor:p,add:function(t,e,a){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)&&!(t!==!1&&!t)){if(typeof t=="string"&&n.options.trimValue&&(t=i.trim(t)),typeof t=="object"&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),typeof t=="string"&&this.$element[0].tagName==="INPUT"){var o=n.options.delimiterRegex?n.options.delimiterRegex:n.options.delimiter,r=t.split(o);if(r.length>1){for(var l=0;l<r.length;l++)this.add(r[l],!0);e||n.pushVal(n.options.triggerChange);return}}var c=n.options.itemValue(t),f=n.options.itemText(t),E=n.options.tagClass(t),v=n.options.itemTitle(t),x=i.grep(n.itemsArray,function(w){return n.options.itemValue(w)===c})[0];if(x&&!n.options.allowDuplicates){if(n.options.onTagExists){var C=i(".tag",n.$container).filter(function(){return i(this).data("item")===x});n.options.onTagExists(t,C)}return}if(!(n.items().toString().length+t.length+1>n.options.maxInputLength)){var R=i.Event("beforeItemAdd",{item:t,cancel:!1,options:a});if(n.$element.trigger(R),!R.cancel){n.itemsArray.push(t);var I=i('<span class="tag '+d(E)+(v!==null?'" title="'+v:"")+'">'+d(f)+'<span data-role="remove"></span></span>');if(I.data("item",t),n.findInputWrapper().before(I),I.after(" "),n.isSelect){var P=i('option[value="'+encodeURIComponent(c)+'"]',n.$element).length||i('option[value="'+d(c)+'"]',n.$element).length;if(!P){var K=i("<option selected>"+d(f)+"</option>");K.data("item",t),K.attr("value",c),n.$element.append(K)}}e||n.pushVal(n.options.triggerChange),(n.options.maxTags===n.itemsArray.length||n.items().toString().length===n.options.maxInputLength)&&n.$container.addClass("bootstrap-tagsinput-max"),i(".typeahead, .twitter-typeahead",n.$container).length&&n.$input.typeahead("val",""),this.isInit?n.$element.trigger(i.Event("itemAddedOnInit",{item:t,options:a})):n.$element.trigger(i.Event("itemAdded",{item:t,options:a}))}}}}},remove:function(t,e,a){var n=this;if(n.objectItems&&(typeof t=="object"?t=i.grep(n.itemsArray,function(r){return n.options.itemValue(r)==n.options.itemValue(t)}):t=i.grep(n.itemsArray,function(r){return n.options.itemValue(r)==t}),t=t[t.length-1]),t){var o=i.Event("beforeItemRemove",{item:t,cancel:!1,options:a});if(n.$element.trigger(o),o.cancel)return;i(".tag",n.$container).filter(function(){return i(this).data("item")===t}).remove(),i("option",n.$element).filter(function(){return i(this).data("item")===t}).remove(),i.inArray(t,n.itemsArray)!==-1&&n.itemsArray.splice(i.inArray(t,n.itemsArray),1)}e||n.pushVal(n.options.triggerChange),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(i.Event("itemRemoved",{item:t,options:a}))},removeAll:function(){var t=this;for(i(".tag",t.$container).remove(),i("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;i(".tag",t.$container).each(function(){var e=i(this),a=e.data("item"),n=t.options.itemValue(a),o=t.options.itemText(a),r=t.options.tagClass(a);if(e.attr("class",null),e.addClass("tag "+d(r)),e.contents().filter(function(){return this.nodeType==3})[0].nodeValue=d(o),t.isSelect){var l=i("option",t.$element).filter(function(){return i(this).data("item")===a});l.attr("value",n)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,e=i.map(t.items(),function(a){return t.options.itemValue(a).toString()});t.$element.val(e,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var e=this;if(e.options=i.extend({},h,t),e.objectItems&&(e.options.freeInput=!1),m(e.options,"itemValue"),m(e.options,"itemText"),y(e.options,"tagClass"),e.options.typeahead){var a=e.options.typeahead||{};y(a,"source"),e.$input.typeahead(i.extend({},a,{source:function(l,c){function f(x){for(var C=[],R=0;R<x.length;R++){var I=e.options.itemText(x[R]);E[I]=x[R],C.push(I)}c(C)}this.map={};var E=this.map,v=a.source(l);i.isFunction(v.success)?v.success(f):i.isFunction(v.then)?v.then(f):i.when(v).then(f)},updater:function(l){return e.add(this.map[l]),this.map[l]},matcher:function(l){return l.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(l){return l.sort()},highlighter:function(l){var c=new RegExp("("+this.query+")","gi");return l.replace(c,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var n=null,o={},r=e.options.typeaheadjs;i.isArray(r)?(n=r[0],o=r[1]):o=r,e.$input.typeahead(n,o).on("typeahead:selected",i.proxy(function(l,c){o.valueKey?e.add(c[o.valueKey]):e.add(c),e.$input.typeahead("val","")},e))}e.$container.on("click",i.proxy(function(l){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",i.proxy(function(l){i(".typeahead, .twitter-typeahead",e.$container).length===0&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on({focusin:function(){e.$container.addClass(e.options.focusClass)},focusout:function(){e.$container.removeClass(e.options.focusClass)}}),e.$container.on("keydown","input",i.proxy(function(l){var c=i(l.target),f=e.findInputWrapper();if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}switch(l.which){case 8:if(A(c[0])===0){var E=f.prev();E.length&&e.remove(E.data("item"))}break;case 46:if(A(c[0])===0){var v=f.next();v.length&&e.remove(v.data("item"))}break;case 37:var x=f.prev();c.val().length===0&&x[0]&&(x.before(f),c.focus());break;case 39:var C=f.next();c.val().length===0&&C[0]&&(C.after(f),c.focus());break;default:}var R=c.val().length,I=Math.ceil(R/5),P=R+I+1;c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",i.proxy(function(l){var c=i(l.target);if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}var f=c.val(),E=e.options.maxChars&&f.length>=e.options.maxChars;e.options.freeInput&&(u(l,e.options.confirmKeys)||E)&&(f.length!==0&&(e.add(E?f.substr(0,e.options.maxChars):f),c.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&l.preventDefault());var v=c.val().length,x=Math.ceil(v/5),C=v+x+1;c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",i.proxy(function(l){e.$element.attr("disabled")||e.remove(i(l.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&(e.$element[0].tagName==="INPUT"?e.add(e.$element.val()):i("option",e.$element).each(function(){e.add(i(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return i(t)}},i.fn.tagsinput=function(t,e,a){var n=[];return this.each(function(){var o=i(this).data("tagsinput");if(!o)o=new p(this,t),i(this).data("tagsinput",o),n.push(o),this.tagName==="SELECT"&&i("option",i(this)).attr("selected","selected"),i(this).val(i(this).val());else if(!t&&!e)n.push(o);else if(o[t]!==void 0){if(o[t].length===3&&a!==void 0)var r=o[t](e,null,a);else var r=o[t](e);r!==void 0&&n.push(r)}}),typeof t=="string"?n.length>1?n:n[0]:n},i.fn.tagsinput.Constructor=p;function m(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(n){return n[a]}}}function y(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(){return a}}}var g=i("<div />");function d(t){return t?g.text(t).html():""}function A(t){var e=0;if(document.selection){t.focus();var a=document.selection.createRange();a.moveStart("character",-t.value.length),e=a.text.length}else(t.selectionStart||t.selectionStart=="0")&&(e=t.selectionStart);return e}function u(t,e){var a=!1;return i.each(e,function(n,o){if(typeof o=="number"&&t.which===o)return a=!0,!1;if(t.which===o.which){var r=!o.hasOwnProperty("altKey")||t.altKey===o.altKey,l=!o.hasOwnProperty("shiftKey")||t.shiftKey===o.shiftKey,c=!o.hasOwnProperty("ctrlKey")||t.ctrlKey===o.ctrlKey;if(r&&l&&c)return a=!0,!1}}),a}i(function(){i("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})})(window.jQuery),jQuery.fn.serializeObject=function(){for(var i={},h=this.serializeArray(),p=0,m=h.length;p<m;p++){var y=h[p],g=y.name,d=y.value!=null?y.value:"";i[g]!==void 0?(i[g].push||(i[g]=[i[g]]),i[g].push(d)):i[g]=d}return i},function(i){T.exports?T.exports=i(s(19755)):i(window.jQuery)}(function(i){function h(t,e,a){var n=a[t];return n===void 0?a[t]=[e]:n.push(e),a}function p(t,e){var a={},n=t.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(e||":input:not(:disabled)").get();return i.each(n,function(o,r){h(r.name,r,a)}),a}function m(t){return(t.type||t.nodeName).toLowerCase()}function y(t){var e={},a=/\+/g;return i.isPlainObject(t)?(i.extend(e,t),i.each(e,function(n,o){i.isArray(o)||(e[n]=[o])})):i.isArray(t)?i.each(t,function(n,o){h(o.name,o.value,e)}):typeof t=="string"&&i.each(t.split("&"),function(n,o){var r=o.split("="),l=decodeURIComponent(r[0].replace(a,"%20")),c=decodeURIComponent(r[1].replace(a,"%20"));h(l,c,e)}),e}var g={checked:["radio","checkbox"],selected:["option","select-one","select-multiple"],value:["button","color","date","datetime","datetime-local","email","hidden","month","number","password","range","reset","search","submit","tel","text","textarea","time","url","week"]};function d(t){var e=m(t),a=void 0;return i.each(g,function(n,o){if(i.inArray(e,o)>-1)return a=n,!1}),a}function A(t,e,a,n,o){var r=d(t);if(r=="value"&&e==n)t.value=a,o.call(t,a);else if(r=="checked"||r=="selected"){var l=[];t.options?i.each(t.options,function(c,f){l.push(f)}):l.push(t),t.multiple&&n==0&&(t.selectedIndex=-1),i.each(l,function(c,f){f.value==a&&(f[r]=!0,o.call(f,a))})}}var u={change:i.noop,complete:i.noop};i.fn.deserialize=function(t,e){i.isFunction(e)&&(e={complete:e}),e=i.extend(u,e||{}),t=y(t);var a=p(this,e.filter);return i.each(t,function(n,o){i.each(a[n],function(r,l){i.each(o,function(c,f){A(l,r,f,c,e.change)})})}),e.complete.call(this),this}}),Promise.resolve().then(function(){var i=[s(32230),s(31369)];(function(h,p){"use strict";Object.defineProperty?Object.defineProperty(window,"bootbox",{configurable:!0,enumerable:!0,get:function(){return console.warn('[deprecated] Accessing bootbox globally is deprecated. Use `require(["bootbox"], function (bootbox) { ... })` instead'),p}}):window.bootbox=p,p.setDefaults({locale:config.userLang});var m=h.Translator.create(),y=p.dialog,g=["placeholder","title","value","label"];p.dialog=function(d){var A=d.show!==!1;d.show=!1;var u=y.call(p,d),t=u[0];return/\[\[.+\]\]/.test(t.outerHTML)?m.translateInPlace(t,g).then(function(){A&&u.modal("show")}):A&&u.modal("show"),u},Promise.all([m.translateKey("modules:bootbox.ok",[]),m.translateKey("modules:bootbox.cancel",[]),m.translateKey("modules:bootbox.confirm",[])]).then(function(d){var A=h.getLanguage();p.addLocale(A,{OK:d[0],CANCEL:d[1],CONFIRM:d[2]}),p.setLocale(A)})}).apply(null,i)}).catch(s.oe),s.e(1322).then(function(){var i=[s(40646)];(function(h){$(window).on("composer:autocomplete:init chat:autocomplete:init",function(p,m){h.init(),m.strategies.push(h.strategy)})}).apply(null,i)}).catch(s.oe)},32887:(T,b,s)=>{"use strict";s(3155),s(73461),app.onDomReady(),function(){let i=0,h;function p(){app.config.adminReloginDuration<=0||(i&&clearTimeout(i),h||Promise.resolve().then(function(){var u=[s(32230)];(function(t){t.translate("[[login:logged-out-due-to-inactivity]]",function(e){h=e})}).apply(null,u)}).catch(s.oe),i=setTimeout(function(){Promise.resolve().then(function(){var u=[s(31369)];(function(t){t.alert({closeButton:!1,message:h,callback:function(){window.location.reload()}})}).apply(null,u)}).catch(s.oe)},36e5))}Promise.resolve().then(function(){var u=[s(85233)];(t=>{t.on("action:ajaxify.end",()=>{m(),p(),$(".settings").length&&Promise.all([s.e(2441),s.e(8340),s.e(6027)]).then(function(){var e=[s(99764)];(function(a){a.prepare(),a.populateTOC()}).apply(null,e)}).catch(s.oe)})}).apply(null,u)}).catch(s.oe);function m(){window.location.hash&&$('.nav-pills a[href="'+window.location.hash+'"]').tab("show")}$(document).ready(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||Promise.all([s.e(2441),s.e(7527)]).then(function(){var u=[s(24601)];(function(t){t.init()}).apply(null,u)}).catch(s.oe),$('[component="logout"]').on("click",function(){return s.e(145).then(function(){var u=[s(39002)];(function(t){t()}).apply(null,u)}).catch(s.oe),!1}),A(),y()}),$(window).on("action:ajaxify.contentLoaded",function(u,t){g(t.url),d(),s(5766),componentHandler.upgradeDom()});function y(){s.e(4865).then(function(){var u=[s(74865),s(85233)];(function(t,e){$(window).on("action:ajaxify.start",function(){t.set(.7)}),e.on("action:ajaxify.end",function(){t.done()})}).apply(null,u)}).catch(s.oe)}function g(u){Promise.resolve().then(function(){var t=[s(32230)];(function(e){u=u.replace(/\/\d+$/,"").split("/").slice(0,3).join("/").split(/[?#]/)[0].replace(/(\/+$)|(^\/+)/,""),u==="admin"&&(u="admin/dashboard"),u=[config.relative_path,u].join("/");let a;$("#main-menu li").removeClass("active"),$("#main-menu a").removeClass("active").filter('[href="'+u+'"]').each(function(){const r=$(this);r.parent().attr("data-link")||(r.parent().addClass("active").parents(".menu-item").addClass("active"),a=r.text())});let n,o;if(/admin\/plugins\//.test(u))n=a,o="[[admin/menu:section-plugins]] > "+n;else{const r=u.match(/admin\/(.+?)\/(.+?)$/);r?(n="[[admin/menu:"+r[1]+"/"+r[2]+"]]",o="[[admin/menu:section-"+(r[1]==="development"?"advanced":r[1])+"]]"+(r[2]?" > "+n:""),r[2]==="settings"&&(n=e.compile("admin/menu:settings.page-title",n))):(n="[[admin/menu:section-dashboard]]",o="[[admin/menu:section-dashboard]]")}o=e.compile("admin/admin:acp-title",o),e.translate(o,function(r){document.title=r.replace(/&gt;/g,">")}),e.translate(n,function(r){$("#main-page-title").text(r)})}).apply(null,t)}).catch(s.oe)}function d(){s.e(7201).then(function(){var u=[s(59006),s(31369),s(64117)];(function(t,e,a){t.render("alert",{}).then(function(){$(".rebuild-and-restart").off("click").on("click",function(){e.confirm("[[admin/admin:alert.confirm-rebuild-and-restart]]",function(n){n&&a.rebuildAndRestart()})}),$(".restart").off("click").on("click",function(){e.confirm("[[admin/admin:alert.confirm-restart]]",function(n){n&&a.restart()})})})}).apply(null,u)}).catch(s.oe)}function A(){s.e(9933).then(function(){var u=[s(29933)];(function(t){let e=utils.findBootstrapEnvironment();const a=new t({panel:document.getElementById("panel"),menu:document.getElementById("menu"),padding:256,tolerance:70});(e==="md"||e==="lg")&&a.disableTouch(),$("#mobile-menu").on("click",function(){a.toggle()}),$("#menu a").on("click",function(){a.close()}),$(window).on("resize",function(){a.close(),e=utils.findBootstrapEnvironment(),e==="md"||e==="lg"?(a.disableTouch(),$("#header").css({position:"relative"})):(a.enableTouch(),$("#header").css({position:"fixed"}))});function n(){$("#header").css({top:$("#panel").position().top*-1+"px",position:"absolute"})}a.on("open",n),a.on("close",function(){$("#header").css({top:"0px",position:"fixed"})})}).apply(null,u)}).catch(s.oe)}}()}}]);
